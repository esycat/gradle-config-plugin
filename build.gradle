apply plugin: 'groovy'
apply plugin: 'signing'
apply plugin: 'maven'
apply plugin: 'idea'

apply from: 'publishing.gradle'

sourceCompatibility = '1.7'
targetCompatibility = '1.7'

description = 'Gradle plugin to expand dotted properties into nested maps.'
group = 'com.esyfur'
version = '0.2.1-SNAPSHOT'

defaultTasks 'clean', 'build'

ext {
    isSnapshot = version.endsWith("-SNAPSHOT")
}

dependencies {
    groovy localGroovy()
    compile gradleApi()
}

signing {
    sign configurations.archives
    required { !isSnapshot && gradle.taskGraph.hasTask("uploadArchives") }
}
